# ğŸ“‹ Japan Power Price Crawler (JPPC) - êµ¬í˜„ ê³„íšì„œ

> PRD.md ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ìƒì„¸ êµ¬í˜„ ê³„íš

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

ì¼ë³¸ ì£¼ìš” 4ê°œ ì „ë ¥íšŒì‚¬(ë„ì¿„ì „ë ¥, ì¸„ë¶€ì „ë ¥, ì¹¸ì‚¬ì´ì „ë ¥, ì¸„ê³ ì¿ ì „ë ¥)ì˜ ì „ê¸° ìš”ê¸ˆ ì •ë³´ë¥¼ ìë™ ìˆ˜ì§‘í•˜ëŠ” ì‹œìŠ¤í…œ êµ¬ì¶•

### ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

- **Backend**: Python 3.12+ / FastAPI / Playwright / PostgreSQL
- **Frontend**: Next.js 14+ / TypeScript / TailwindCSS
- **Infra**: Docker / Docker Compose

---

## ğŸ“Š êµ¬í˜„ ë‹¨ê³„ë³„ ê³„íš

### Phase 1: í”„ë¡œì íŠ¸ ê¸°ì´ˆ ì„¤ì • ë° DB ì„¤ê³„ (Week 1)

#### 1.1 í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                                            | ì‚°ì¶œë¬¼                | ìš°ì„ ìˆœìœ„ |
| ------- | ---------------------------------------------------- | --------------------- | -------- |
| P1-001  | í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±                          | ë””ë ‰í† ë¦¬ êµ¬ì¡°         | ìƒ       |
| P1-002  | Docker Compose ì„¤ì • (PostgreSQL, Backend, Frontend)  | docker-compose.yml    | ìƒ       |
| P1-003  | Backend í™˜ê²½ ì„¤ì • (pyproject.toml, requirements.txt) | Python í”„ë¡œì íŠ¸ ì„¤ì •  | ìƒ       |
| P1-004  | Frontend í™˜ê²½ ì„¤ì • (package.json, tsconfig.json)     | Next.js í”„ë¡œì íŠ¸ ì„¤ì • | ìƒ       |
| P1-005  | í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿ ì‘ì„± (.env.example)                  | í™˜ê²½ë³€ìˆ˜ ë¬¸ì„œ         | ì¤‘       |

#### 1.2 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° êµ¬í˜„

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                 | ì‚°ì¶œë¬¼         | ìš°ì„ ìˆœìœ„ |
| ------- | ------------------------- | -------------- | -------- |
| P1-006  | ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„  | ERD ë‹¤ì´ì–´ê·¸ë¨ | ìƒ       |
| P1-007  | SQLAlchemy ëª¨ë¸ êµ¬í˜„      | models/\*.py   | ìƒ       |
| P1-008  | Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ì • | alembic ì„¤ì •   | ìƒ       |
| P1-009  | ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±    | migration íŒŒì¼ | ìƒ       |

#### 1.3 ê¸°ë³¸ API êµ¬ì¡° êµ¬ì¶•

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                      | ì‚°ì¶œë¬¼          | ìš°ì„ ìˆœìœ„ |
| ------- | ------------------------------ | --------------- | -------- |
| P1-010  | FastAPI ì•± ê¸°ë³¸ êµ¬ì¡° (main.py) | ì•± ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ | ìƒ       |
| P1-011  | ì„¤ì • ê´€ë¦¬ ëª¨ë“ˆ (config.py)     | ì„¤ì • í´ë˜ìŠ¤     | ìƒ       |
| P1-012  | ë¡œê¹… ìœ í‹¸ë¦¬í‹° êµ¬í˜„             | logger.py       | ì¤‘       |
| P1-013  | ì˜ì¡´ì„± ì£¼ì… ì„¤ì • (deps.py)     | DI ì„¤ì •         | ì¤‘       |
| P1-014  | í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ (/health)  | API ì—”ë“œí¬ì¸íŠ¸  | ì¤‘       |

---

### Phase 2: í¬ë¡¤ëŸ¬ ê°œë°œ (Week 2)

#### 2.1 í¬ë¡¤ëŸ¬ ê¸°ë°˜ êµ¬ì¡°

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                                   | ì‚°ì¶œë¬¼              | ìš°ì„ ìˆœìœ„ |
| ------- | ------------------------------------------- | ------------------- | -------- |
| P2-001  | BaseCrawler ì¶”ìƒ í´ë˜ìŠ¤ ì„¤ê³„                | base_crawler.py     | ìƒ       |
| P2-002  | í¬ë¡¤ëŸ¬ ìœ í‹¸ë¦¬í‹° (Rate Limiting, Retry ë¡œì§) | crawler_utils.py    | ìƒ       |
| P2-003  | User-Agent ë° robots.txt ì²˜ë¦¬               | compliance_utils.py | ì¤‘       |

#### 2.2 ì „ë ¥íšŒì‚¬ë³„ í¬ë¡¤ëŸ¬ êµ¬í˜„

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                       | ì‚°ì¶œë¬¼             | ìš°ì„ ìˆœìœ„ |
| ------- | ------------------------------- | ------------------ | -------- |
| P2-004  | ë„ì¿„ì „ë ¥(TEPCO) í¬ë¡¤ëŸ¬ êµ¬í˜„     | tepco_crawler.py   | ìƒ       |
| P2-005  | ì¸„ë¶€ì „ë ¥(Chubu) í¬ë¡¤ëŸ¬ êµ¬í˜„     | chubu_crawler.py   | ìƒ       |
| P2-006  | ì¹¸ì‚¬ì´ì „ë ¥(KEPCO) í¬ë¡¤ëŸ¬ êµ¬í˜„   | kepco_crawler.py   | ìƒ       |
| P2-007  | ì¸„ê³ ì¿ ì „ë ¥(Chugoku) í¬ë¡¤ëŸ¬ êµ¬í˜„ | chugoku_crawler.py | ìƒ       |

#### 2.3 í¬ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                        | ì‚°ì¶œë¬¼            | ìš°ì„ ìˆœìœ„ |
| ------- | -------------------------------- | ----------------- | -------- |
| P2-008  | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (pytest)        | test\_\*.py       | ì¤‘       |
| P2-009  | í†µí•© í…ŒìŠ¤íŠ¸ (ì „ì²´ í¬ë¡¤ë§ í”Œë¡œìš°) | integration tests | ì¤‘       |

---

### Phase 3: ìŠ¤ì¼€ì¤„ëŸ¬ ë° ì•Œë¦¼ ê¸°ëŠ¥ (Week 3)

#### 3.1 í¬ë¡¤ë§ ì„œë¹„ìŠ¤ ê³„ì¸µ

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                               | ì‚°ì¶œë¬¼             | ìš°ì„ ìˆœìœ„ |
| ------- | --------------------------------------- | ------------------ | -------- |
| P3-001  | CrawlService êµ¬í˜„ (ì‹¤í–‰/ì¤‘ì§€/ìƒíƒœ ê´€ë¦¬) | crawl_service.py   | ìƒ       |
| P3-002  | ë°ì´í„° ê²€ì¦ ë° ë³€ê²½ ê°ì§€ ë¡œì§           | data_validation.py | ìƒ       |
| P3-003  | í¬ë¡¤ë§ ì´ë ¥ ì €ì¥ ë¡œì§                   | crawl_log_repo.py  | ìƒ       |

#### 3.2 ìŠ¤ì¼€ì¤„ëŸ¬ êµ¬í˜„

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                | ì‚°ì¶œë¬¼               | ìš°ì„ ìˆœìœ„ |
| ------- | ------------------------ | -------------------- | -------- |
| P3-004  | APScheduler ì„¤ì • ë° í†µí•© | scheduler_service.py | ìƒ       |
| P3-005  | ì£¼ 1íšŒ ìŠ¤ì¼€ì¤„ ì„¤ì • ê¸°ëŠ¥  | schedule_config.py   | ìƒ       |
| P3-006  | ìŠ¤ì¼€ì¤„ CRUD API          | crawling.py API      | ìƒ       |

#### 3.3 ì´ë©”ì¼ ì•Œë¦¼ ì‹œìŠ¤í…œ

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                      | ì‚°ì¶œë¬¼           | ìš°ì„ ìˆœìœ„ |
| ------- | ------------------------------ | ---------------- | -------- |
| P3-007  | EmailService êµ¬í˜„ (aiosmtplib) | email_service.py | ìƒ       |
| P3-008  | ì•Œë¦¼ ìˆ˜ì‹ ì ê´€ë¦¬ API           | alerts.py API    | ìƒ       |
| P3-009  | í¬ë¡¤ë§ ì‹¤íŒ¨ ì•Œë¦¼ í…œí”Œë¦¿        | email templates  | ìƒ       |
| P3-010  | ìš”ê¸ˆ ë³€ê²½ ì•Œë¦¼ í…œí”Œë¦¿          | email templates  | ì¤‘       |
| P3-011  | ì£¼ê°„ ë¦¬í¬íŠ¸ í…œí”Œë¦¿             | email templates  | í•˜       |

---

### Phase 4: Backend API ì™„ì„± ë° Frontend ê¸°ì´ˆ (Week 4)

#### 4.1 API ì™„ì„±

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©              | ì‚°ì¶œë¬¼       | ìš°ì„ ìˆœìœ„ |
| ------- | ---------------------- | ------------ | -------- |
| P4-001  | ì „ë ¥íšŒì‚¬ CRUD API ì™„ì„± | companies.py | ìƒ       |
| P4-002  | ìš”ê¸ˆ ì •ë³´ ì¡°íšŒ API     | prices.py    | ìƒ       |
| P4-003  | ìš”ê¸ˆ ë¹„êµ API          | prices.py    | ì¤‘       |
| P4-004  | ìš”ê¸ˆ ì´ë ¥ ì¡°íšŒ API     | prices.py    | ì¤‘       |
| P4-005  | ëŒ€ì‹œë³´ë“œ í†µê³„ API      | stats.py     | ì¤‘       |

#### 4.2 Frontend í”„ë¡œì íŠ¸ ì„¤ì •

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                   | ì‚°ì¶œë¬¼                 | ìš°ì„ ìˆœìœ„ |
| ------- | --------------------------- | ---------------------- | -------- |
| P4-006  | shadcn/ui ì´ˆê¸°í™” ë° ì„¤ì •    | UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìƒ       |
| P4-007  | TailwindCSS í…Œë§ˆ ì„¤ì •       | tailwind.config.js     | ìƒ       |
| P4-008  | API í´ë¼ì´ì–¸íŠ¸ ì„¤ì • (Axios) | api.ts                 | ìƒ       |
| P4-009  | íƒ€ì… ì •ì˜ íŒŒì¼ ì‘ì„±         | types/index.ts         | ìƒ       |

#### 4.3 ë ˆì´ì•„ì›ƒ ë° ê³µí†µ ì»´í¬ë„ŒíŠ¸

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                               | ì‚°ì¶œë¬¼            | ìš°ì„ ìˆœìœ„ |
| ------- | --------------------------------------- | ----------------- | -------- |
| P4-010  | ë©”ì¸ ë ˆì´ì•„ì›ƒ (Header, Sidebar, Footer) | layout components | ìƒ       |
| P4-011  | ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ êµ¬í˜„                    | Sidebar.tsx       | ìƒ       |
| P4-012  | ë¡œë”© ë° ì—ëŸ¬ ìƒíƒœ ì»´í¬ë„ŒíŠ¸              | ui components     | ì¤‘       |

#### 4.4 ëŒ€ì‹œë³´ë“œ í™”ë©´

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©             | ì‚°ì¶œë¬¼           | ìš°ì„ ìˆœìœ„ |
| ------- | --------------------- | ---------------- | -------- |
| P4-013  | ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ êµ¬í˜„  | page.tsx         | ìƒ       |
| P4-014  | ìµœê·¼ í¬ë¡¤ë§ ìƒíƒœ ìœ„ì ¯ | dashboard widget | ìƒ       |
| P4-015  | ìš”ê¸ˆ ë³€ë™ ì•Œë¦¼ ìœ„ì ¯   | dashboard widget | ì¤‘       |
| P4-016  | ì „ë ¥íšŒì‚¬ í˜„í™© ìœ„ì ¯    | dashboard widget | ì¤‘       |

---

### Phase 5: Frontend ì£¼ìš” í™”ë©´ ê°œë°œ (Week 5)

#### 5.1 ì „ë ¥íšŒì‚¬ ê´€ë¦¬ í™”ë©´

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©               | ì‚°ì¶œë¬¼                  | ìš°ì„ ìˆœìœ„ |
| ------- | ----------------------- | ----------------------- | -------- |
| P5-001  | ì „ë ¥íšŒì‚¬ ëª©ë¡ í™”ë©´      | companies/page.tsx      | ìƒ       |
| P5-002  | ì „ë ¥íšŒì‚¬ ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ | form components         | ìƒ       |
| P5-003  | ì „ë ¥íšŒì‚¬ ìƒì„¸ í™”ë©´      | companies/[id]/page.tsx | ìƒ       |

#### 5.2 ìš”ê¸ˆ ì •ë³´ í™”ë©´

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©             | ì‚°ì¶œë¬¼                  | ìš°ì„ ìˆœìœ„ |
| ------- | --------------------- | ----------------------- | -------- |
| P5-004  | ìš”ê¸ˆ ëª©ë¡ í™”ë©´        | prices/page.tsx         | ìƒ       |
| P5-005  | ìš”ê¸ˆ ìƒì„¸ ë³´ê¸° ëª¨ë‹¬   | modal component         | ìƒ       |
| P5-006  | ìš”ê¸ˆ ë¹„êµ í™”ë©´        | prices/compare/page.tsx | ì¤‘       |
| P5-007  | ìš”ê¸ˆ ë¹„êµ í…Œì´ë¸”/ì°¨íŠ¸ | compare components      | ì¤‘       |

#### 5.3 ìš”ê¸ˆ ì´ë ¥ ë° í¬ë¡¤ë§ ê´€ë¦¬

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©               | ì‚°ì¶œë¬¼                  | ìš°ì„ ìˆœìœ„ |
| ------- | ----------------------- | ----------------------- | -------- |
| P5-008  | ìš”ê¸ˆ ì´ë ¥ í™”ë©´ (ì°¨íŠ¸)   | prices/history/page.tsx | ì¤‘       |
| P5-009  | Recharts ê¸°ë°˜ ì¶”ì´ ì°¨íŠ¸ | chart components        | ì¤‘       |
| P5-010  | í¬ë¡¤ë§ ê´€ë¦¬ í™”ë©´        | crawling/page.tsx       | ìƒ       |
| P5-011  | ìˆ˜ë™ í¬ë¡¤ë§ ì‹¤í–‰ UI     | crawl trigger UI        | ìƒ       |
| P5-012  | ìŠ¤ì¼€ì¤„ ì„¤ì • UI          | schedule config UI      | ìƒ       |
| P5-013  | í¬ë¡¤ë§ ì´ë ¥ ì¡°íšŒ        | crawl log viewer        | ì¤‘       |

#### 5.4 ì„¤ì • í™”ë©´

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©          | ì‚°ì¶œë¬¼            | ìš°ì„ ìˆœìœ„ |
| ------- | ------------------ | ----------------- | -------- |
| P5-014  | ì•Œë¦¼ ì„¤ì • í™”ë©´     | settings/page.tsx | ì¤‘       |
| P5-015  | ì´ë©”ì¼ ìˆ˜ì‹ ì ê´€ë¦¬ | alert settings    | ì¤‘       |
| P5-016  | ì‹œìŠ¤í…œ ì„¤ì • í™”ë©´   | system settings   | í•˜       |

---

### Phase 6: í†µí•© í…ŒìŠ¤íŠ¸ ë° ìµœì í™” (Week 6)

#### 6.1 í†µí•© í…ŒìŠ¤íŠ¸

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                    | ì‚°ì¶œë¬¼            | ìš°ì„ ìˆœìœ„ |
| ------- | ---------------------------- | ----------------- | -------- |
| P6-001  | E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±     | test scenarios    | ìƒ       |
| P6-002  | Frontend-Backend í†µí•© í…ŒìŠ¤íŠ¸ | integration tests | ìƒ       |
| P6-003  | í¬ë¡¤ë§ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸    | E2E crawl test    | ìƒ       |

#### 6.2 Docker ìµœì í™”

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                    | ì‚°ì¶œë¬¼                  | ìš°ì„ ìˆœìœ„ |
| ------- | ---------------------------- | ----------------------- | -------- |
| P6-004  | Backend Dockerfile ìµœì í™”    | Dockerfile              | ì¤‘       |
| P6-005  | Frontend Dockerfile ìµœì í™”   | Dockerfile              | ì¤‘       |
| P6-006  | Docker Compose í”„ë¡œë•ì…˜ ì„¤ì • | docker-compose.prod.yml | ì¤‘       |
| P6-007  | ë°ì´í„° ë³¼ë¥¨ ì„¤ì • ë° ë°±ì—…     | volume config           | ì¤‘       |

#### 6.3 ë¬¸ì„œí™”

| ì‘ì—… ID | ì‘ì—… ë‚´ìš©                         | ì‚°ì¶œë¬¼             | ìš°ì„ ìˆœìœ„ |
| ------- | --------------------------------- | ------------------ | -------- |
| P6-008  | API ëª…ì„¸ì„œ ì‘ì„± (OpenAPI/Swagger) | api-spec.md        | ì¤‘       |
| P6-009  | ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë¬¸ì„œ          | database-schema.md | ì¤‘       |
| P6-010  | ë°°í¬ ê°€ì´ë“œ ì‘ì„±                  | deployment.md      | ì¤‘       |
| P6-011  | README.md ì‘ì„±                    | README.md          | ìƒ       |

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph Frontend[Frontend :3000]
        NextJS[Next.js]
        Tailwind[TailwindCSS]
    end

    subgraph Backend[Backend :8000]
        FastAPI[FastAPI]
        APIS[API Layer]
        Services[Service Layer]
        Crawlers[Crawler Layer]
        PW[Playwright]
    end

    subgraph DB[Database :5432]
        Postgres[(PostgreSQL)]
    end

    subgraph Ext[External]
        PowerSites[Power Company Sites]
        SMTP[SMTP Server]
    end

    NextJS -->|HTTP| FastAPI
    FastAPI --> APIS
    APIS --> Services
    Services --> Crawlers
    Crawlers --> PW
    Services --> Postgres
    Crawlers -->|HTTP| PowerSites
    Services -->|SMTP| SMTP
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
japan-power-price-crawler/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env.example
â”œâ”€â”€ README.md
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ pyproject.toml
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main.py
â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ deps.py
â”‚   â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â”œâ”€â”€ companies.py
â”‚   â”‚   â”‚       â”œâ”€â”€ prices.py
â”‚   â”‚   â”‚       â”œâ”€â”€ crawling.py
â”‚   â”‚   â”‚       â””â”€â”€ alerts.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ company.py
â”‚   â”‚   â”‚   â”œâ”€â”€ price_plan.py
â”‚   â”‚   â”‚   â”œâ”€â”€ crawl_log.py
â”‚   â”‚   â”‚   â””â”€â”€ alert_setting.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ company.py
â”‚   â”‚   â”‚   â”œâ”€â”€ price.py
â”‚   â”‚   â”‚   â”œâ”€â”€ crawling.py
â”‚   â”‚   â”‚   â””â”€â”€ alert.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ price_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ crawl_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ email_service.py
â”‚   â”‚   â”‚   â””â”€â”€ scheduler_service.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ crawlers/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ base_crawler.py
â”‚   â”‚   â”‚   â”œâ”€â”€ tepco_crawler.py
â”‚   â”‚   â”‚   â”œâ”€â”€ chubu_crawler.py
â”‚   â”‚   â”‚   â”œâ”€â”€ kepco_crawler.py
â”‚   â”‚   â”‚   â””â”€â”€ chugoku_crawler.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ database.py
â”‚   â”‚   â”‚   â””â”€â”€ repositories/
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â”œâ”€â”€ company_repo.py
â”‚   â”‚   â”‚       â”œâ”€â”€ price_repo.py
â”‚   â”‚   â”‚       â””â”€â”€ crawl_log_repo.py
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ logger.py
â”‚   â”‚       â””â”€â”€ helpers.py
â”‚   â”‚
â”‚   â”œâ”€â”€ alembic/
â”‚   â”‚   â”œâ”€â”€ alembic.ini
â”‚   â”‚   â””â”€â”€ versions/
â”‚   â”‚
â”‚   â””â”€â”€ tests/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ conftest.py
â”‚       â”œâ”€â”€ test_api/
â”‚       â””â”€â”€ test_crawlers/
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ next.config.js
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ companies/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ prices/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ compare/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ history/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ crawling/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ companies/
â”‚   â”‚   â”‚   â”œâ”€â”€ prices/
â”‚   â”‚   â”‚   â””â”€â”€ crawling/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useCompanies.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ usePrices.ts
â”‚   â”‚   â”‚   â””â”€â”€ useCrawling.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â””â”€â”€ public/
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ PRD.md
    â”œâ”€â”€ PLAN.md
    â”œâ”€â”€ api-spec.md
    â””â”€â”€ database-schema.md
```

---

## ğŸ¯ ê¸°ëŠ¥ë³„ êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### í¬ë¡¤ë§ ê¸°ëŠ¥ (FR-001 ~ FR-006)

- [ ] FR-001: ì „ë ¥íšŒì‚¬ CRUD
- [ ] FR-002: 4ê°œ ì „ë ¥íšŒì‚¬ ìš”ê¸ˆ ì •ë³´ í¬ë¡¤ë§
- [ ] FR-003: ì£¼ 1íšŒ ìë™ í¬ë¡¤ë§ (ìŠ¤ì¼€ì¤„ ì„¤ì •)
- [ ] FR-004: ìˆ˜ë™ í¬ë¡¤ë§ ì‹¤í–‰
- [ ] FR-005: í¬ë¡¤ë§ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- [ ] FR-006: í¬ë¡¤ë§ ì´ë ¥ ê´€ë¦¬

### ë°ì´í„° ê´€ë¦¬ ê¸°ëŠ¥ (FR-007 ~ FR-011)

- [ ] FR-007: ìš”ê¸ˆ ë°ì´í„° ì •ê·œí™” ì €ì¥
- [ ] FR-008: ìš”ê¸ˆ ë³€ë™ ì´ë ¥ ì¶”ì 
- [ ] FR-009: ë°ì´í„° ìœ íš¨ì„± ê²€ì¦
- [ ] FR-010: ë³€ê²½ ì‚¬í•­ ê°ì§€
- [ ] FR-011: CSV/Excel ë‚³ë‚´ê¸°

### ì•Œë¦¼ ê¸°ëŠ¥ (FR-012 ~ FR-015)

- [ ] FR-012: ì´ë©”ì¼ ì•Œë¦¼ ì„¤ì •
- [ ] FR-013: í¬ë¡¤ë§ ì‹¤íŒ¨ ì•Œë¦¼
- [ ] FR-014: ìš”ê¸ˆ ë³€ê²½ ì•Œë¦¼
- [ ] FR-015: ì£¼ê°„ ë¦¬í¬íŠ¸

### API ê¸°ëŠ¥ (FR-016 ~ FR-021)

- [ ] FR-016: ì „ë ¥íšŒì‚¬ API
- [ ] FR-017: ìš”ê¸ˆ ì¡°íšŒ API
- [ ] FR-018: ìš”ê¸ˆ ë¹„êµ API
- [ ] FR-019: ì´ë ¥ ì¡°íšŒ API
- [ ] FR-020: í¬ë¡¤ë§ ì‘ì—… API
- [ ] FR-021: ëŒ€ì‹œë³´ë“œ í†µê³„ API

### Frontend í™”ë©´ (FR-022 ~ FR-029)

- [ ] FR-022: ëŒ€ì‹œë³´ë“œ
- [ ] FR-023: ì „ë ¥íšŒì‚¬ ê´€ë¦¬ í™”ë©´
- [ ] FR-024: ìš”ê¸ˆ ì •ë³´ í™”ë©´
- [ ] FR-025: ìš”ê¸ˆ ë¹„êµ í™”ë©´
- [ ] FR-026: ìš”ê¸ˆ ì´ë ¥ í™”ë©´
- [ ] FR-027: í¬ë¡¤ë§ ê´€ë¦¬ í™”ë©´
- [ ] FR-028: ì•Œë¦¼ ì„¤ì • í™”ë©´
- [ ] FR-029: ì‹œìŠ¤í…œ ì„¤ì • í™”ë©´

---

## âš ï¸ ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘ ë°©ì•ˆ

| ë¦¬ìŠ¤í¬                    | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ                             | ê´€ë ¨ ì‘ì—…       |
| ------------------------- | ------ | ------------------------------------- | --------------- |
| ì „ë ¥íšŒì‚¬ ì‚¬ì´íŠ¸ êµ¬ì¡° ë³€ê²½ | ë†’ìŒ   | í¬ë¡¤ëŸ¬ë³„ ëª¨ë“ˆí™”ë¡œ ê°œë³„ ìˆ˜ì • ìš©ì´      | P2-001 ~ P2-007 |
| í¬ë¡¤ë§ ì°¨ë‹¨               | ì¤‘ê°„   | Rate limiting ì¤€ìˆ˜, ì ì ˆí•œ User-Agent | P2-002, P2-003  |
| ì¼ë³¸ì–´ ì¸ì½”ë”© ì´ìŠˆ        | ì¤‘ê°„   | UTF-8 í†µì¼, ë ˆê±°ì‹œ ì¸ì½”ë”© ë³€í™˜        | P2-001          |
| ìš”ê¸ˆ ì²´ê³„ ë³µì¡ì„±          | ì¤‘ê°„   | ìœ ì—°í•œ ë°ì´í„° ëª¨ë¸, JSON í•„ë“œ í™œìš©    | P1-006, P1-007  |

---

## ğŸ“ˆ ì„±ëŠ¥ ëª©í‘œ

| ID      | ìš”êµ¬ì‚¬í•­           | ëª©í‘œì¹˜     | ê²€ì¦ ë°©ë²•         |
| ------- | ------------------ | ---------- | ----------------- |
| NFR-001 | ë‹¨ì¼ ì‚¬ì´íŠ¸ í¬ë¡¤ë§ | 60ì´ˆ ì´ë‚´  | í¬ë¡¤ë§ ë¡œê·¸ ë¶„ì„  |
| NFR-002 | ì „ì²´ í¬ë¡¤ë§ (4ê°œ)  | 5ë¶„ ì´ë‚´   | í¬ë¡¤ë§ ë¡œê·¸ ë¶„ì„  |
| NFR-003 | API ì‘ë‹µ ì‹œê°„      | 300ms ì´ë‚´ | ë¡œê·¸/APM ëª¨ë‹ˆí„°ë§ |
| NFR-004 | Frontend ì´ˆê¸° ë¡œë”© | 3ì´ˆ ì´ë‚´   | Lighthouse ì¸¡ì •   |

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

1. **Phase 1 ì‹œì‘**: í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± ë° Docker ì„¤ì •
2. **ê°œë°œ í™˜ê²½ êµ¬ì¶•**: ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œ Docker Compose ì‹¤í–‰
3. **DB ìŠ¤í‚¤ë§ˆ í™•ì •**: ERD ì‘ì„± ë° ëª¨ë¸ êµ¬í˜„ ì‹œì‘

---

_ë¬¸ì„œ ë²„ì „: 1.0_  
_ì‘ì„±ì¼: 2026-01-31_  
_ê¸°ì¤€ ë¬¸ì„œ: docs/PRD.md_
